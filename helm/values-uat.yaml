# ============================================================================
# Helm Values - UAT (User Acceptance Testing) Environment
# ============================================================================
# This file contains configuration values for the UAT environment.
# These values override the default values in the Helm chart templates.
# This file is used when deploying to the 'uat' branch via Argo CD.
# ============================================================================

# ----------------------------
# Service Account Configuration
# ----------------------------
# ServiceAccount provides identity for pods to interact with Kubernetes API.
serviceAccount:
  create: true
  # ServiceAccount name - must be unique within the namespace
  name: n8n-uat-sa

# ----------------------------
# Application Settings
# ----------------------------
replicas: 1
timezone: Australia/Sydney

# ----------------------------
# Container Image Configuration
# ----------------------------
image:
  # TEMPORARY: Using official n8n image until custom image is built
  repository: nomad1111/n8n-custom
  tag: uat
  pullPolicy: Always
  
  # Custom image configuration (commented until image is available)
  
  # Optional: Image pull secrets for Docker Hub authentication
  # Recommended to avoid Docker Hub rate limits
  # pullSecrets: ["dockerhub-secret"]
  
  # Optional: Override container entrypoint if needed
  # command: ["/docker-entrypoint.sh"]
  # args: ["start"]

# ----------------------------
# Ingress Configuration
# ----------------------------
ingress:
  enabled: true
  className: nginx
  # UAT hostname - add to hosts file for local access: 127.0.0.1 n8n-uat.local
  host: n8n-uat.local
  protocol: http  # http or https
  tls: []

# ----------------------------
# Service Configuration
# ----------------------------
service:
  type: ClusterIP
  port: 5678
  targetPort: 5678

# ----------------------------
# Persistent Storage Configuration
# ----------------------------
persistence:
  enabled: true
  storageClass: null
  accessMode: ReadWriteOnce
  size: 1Gi
  mountPath: /home/node/.n8n

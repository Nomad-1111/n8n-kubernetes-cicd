# ============================================================================
# Service Account for n8n Pods
# ============================================================================
# This template creates a ServiceAccount that provides an identity for n8n
# pods. ServiceAccounts are used for authentication and authorization when
# pods need to interact with the Kubernetes API or other services.
# Only created if .Values.serviceAccount.create is true.
# ============================================================================

{{- if .Values.serviceAccount.create }}
apiVersion: v1
kind: ServiceAccount
metadata:
  # ServiceAccount name - referenced by deployment serviceAccountName
  name: {{ .Values.serviceAccount.name }}
  # Namespace - where the service account is created
  # Uses the release namespace (where Helm installs the chart)
  namespace: {{ .Release.Namespace }}
  # Standard Kubernetes labels for resource organization
  labels:
    {{- include "n8n.labels" . | nindent 4 }}
{{- end }}
